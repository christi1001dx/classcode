<!DOCTYPE html>

<html>
before
<div>
<canvas height="600" width="600" id="c"
	style="border:1px solid black">
</canvas>
</div>
after

<script>
 var c = document.getElementById("c");
 var ctx = c.getContext("2d");
 
 var block = function(x,y,w,h,ctx) {
   return {
     x:x,
     y:y,
     w:w,
     h:h,
     dx:1,
     dy:y,
     color:'#ff0000',
     ctx:ctx,
     draw: function() {
       ctx.fillStyle=this.color;
       ctx.fillRect(this.x,this.y,this.w,this.h);
       ctx.stroke();
     },
     move: function() {
       this.x = this.x + this.dx;
       this.y = this.y + Math.random()*2-1;
       if (this.x>550 || this.x<10){
	 this.dx=this.dx*-1;
       }
     }
   }
 }

 var animloop = function() {
   ctx.fillStyle="#ffffff";
   ctx.fillRect(0,0,600,600);
   b1.move();
   b2.move();
   b1.draw();
   b2.draw();
   window.requestAnimationFrame(animloop);
 }
 var b1 = block(50,50,20,10,ctx);
 var b2 = block(150,200,20,10,ctx);
 b2.color="#0000ff";
 b1.draw();
 b2.draw();
 window.requestAnimationFrame(animloop);

</script>
</html>
